<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Add Room</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<link rel="stylesheet" href="/css/style.css" />
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
	rel="stylesheet" />
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>



</head>
<body>

	<div th:replace="fragments/topandsidenav :: navbar"></div>






	<div style="display: flex">
		<div style="width: 20%">
			<div th:replace="fragments/topandsidenav :: sidebar"></div>
		</div>
		<div style="width: 70%" class="container">
			<div class="row col-md-8 offset-md-2">
				<div class="card">
					<div th:if="${param.success}">
						<div class="alert alert-info">Room Added Succesully</div>
					</div>
					<div class="card-header">
						<h2 class="text-center">Add Room</h2>
					</div>
					<div class="card-body">
						<!--   <form  method="post" id="uploadForm"  th:action="@{/upload}" enctype="multipart/form-data">
    
        <input type="text" id="title" name="title" placeholder="Title"><br>
        <input type="file" id="imageFile" name="imageFile" accept="image/*"><br>
        <textarea id="description" name="description" placeholder="Description"></textarea><br>
        <button type="submit">Upload</button>
    </form>
    -->

						<form action="#" th:action="@{/upload}" th:object="${roomRequest}"
							method="post" enctype="multipart/form-data">
							<div>
								<label>Enter Room No:</label> <input type="roomNo" id="roomNo"
									placeholder="roomNo" name="roomNo" th:field="*{roomNo}" />
							</div>
							<div>
								<label>Enter Type Of Room:</label> <input type="roomType"
									id="roomType" name="roomType" placeholder="roomType"
									th:field="*{roomType}" />
							</div>

							<div>
								<label>Enter Guest No:</label> <input type="guestNo"
									id="guestNo" name="guestNo" placeholder="guestNo"
									th:field="*{guestNo}" />
							</div>
							<div>
								<label>Enter price Of Room:</label> <input type="price"
									id="price" name=price placeholder="price" th:field="*{price}" />
							</div>
							<div>
								<label>Enter Description</label>
								<textarea type="roomDesc" id="roomDesc" name="roomDesc"
									placeholder="Enter Description Here" th:field="*{roomDesc}"></textarea>

							</div>
							<div>
								<label>Image File:</label> <input type="file" id="picByte"
									name="picByte"  accept="image/*"
									th:field="*{picByte}" />
							</div>
							<div>
								<button type="submit">Upload</button>
							</div>



						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		$(document).ready(function() {
			$('#uploadForm').submit(function(event) {
				// Prevent default form submission
				event.preventDefault();

				// Prepare form data
				var formData = new FormData();
				formData.append('title', $('#title').val());
				formData.append('imageFile', $('#imageFile')[0].files[0]);
				formData.append('description', $('#description').val());

				// AJAX request
				$.ajax({
					type : 'POST',
					url : '/upload',
					data : formData,
					processData : false,
					contentType : false,
					success : function(response) {
						console.log('Success:', response);
						// Handle success response (if needed)
					},
					error : function(xhr, status, error) {
						console.error('Error:', error);
						// Handle error response (if needed)
					}
				});
			});
		});
	</script>
	<script src="/js/script.js"></script>
</body>
</html>