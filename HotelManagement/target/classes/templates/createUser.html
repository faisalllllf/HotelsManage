<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Create User</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<link rel="stylesheet" href="/css/style.css" />
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
	rel="stylesheet" />
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>



</head>
<body>

	<div th:replace="fragments/topandsidenav :: navbar"></div>






	<div style="display: flex">
		<div style="width: 20%">
			<div th:replace="fragments/topandsidenav :: sidebar"></div>
		</div>
		<div style="width: 70%" class="container">
			<div class="row col-md-8 offset-md-2">
				<div class="card">
					<div th:if="${param.success}">
						<div class="alert alert-info">user successfully registered
							to our app!</div>
					</div>
					<div class="card-header">
						<h2 class="text-center">CreateUser</h2>
					</div>
					<div class="card-body">
						<form method="post" role="form"
							th:action="@{/admin/createUser/save}" th:object="${user}">

							<div class="form-group mb-3">
								<label class="form-label">First Name</label> <input
									class="form-control" id="firstName" name="firstName"
									placeholder="Enter first name" th:field="*{firstName}"
									type="text" />
								<p th:errors="*{firstName}" class="text-danger"
									th:if="${#fields.hasErrors('firstName')}"></p>
							</div>

							<div class="form-group mb-3">
								<label class="form-label">Last Name</label> <input
									class="form-control" id="lastName" name="lastName"
									placeholder="Enter last name" th:field="*{lastName}"
									type="text" />
								<p th:errors="*{lastName}" class="text-danger"
									th:if="${#fields.hasErrors('lastName')}"></p>
							</div>
							<div class="form-group mb-3">
								<label class="form-label">Email</label> <input
									class="form-control" id="email" name="email"
									placeholder="Enter email address" th:field="*{email}"
									type="email" />
								<p th:errors="*{email}" class="text-danger"
									th:if="${#fields.hasErrors('email')}"></p>
							</div>
							<div class="form-group mb-3">
								<label class="form-label">Password</label> <input
									class="form-control" id="password" name="password"
									placeholder="Enter password" th:field="*{password}"
									type="password" />
								<p th:errors="*{password}" class="text-danger"
									th:if="${#fields.hasErrors('password')}"></p>
							</div>



							<div class="form-group mb-3">
								<label class="form-label">User Category</label> <select
									class="form-control" id="Category" name="Category"
									placeholder="select User Category" th:field="*{Category}"
									type="Category">


									<option th:each="role: ${roles}" th:value="${role.name}"
										th:text="${role.name}"></option>
								</select>
								<button id="newaddbutton" type="button" onclick="handleClick()">Add
									New Role</button>

								<p th:errors=*{category} class="text-danger"
									th:if="${#fields.hasErrors('category')}"></p>


							</div>
							<div id="newRoleAddDiv" style="display: none;"
								class="form-group mb-3">
								<label class="form-label">newRoleByAdmin</label> <input
									class="form-control" id="newRoleByAdmin" name="newRoleByAdmin"
									placeholder="Enter New  Role" th:field="*{newRoleByAdmin}"
									type="text" />
								<button id="NewRoleFinal" type="button"
									onclick="addNewRoleFinal()">Add New Role</button>
								<p th:errors="*{newRoleByAdmin}" class="text-danger"
									th:if="${#fields.hasErrors('newRoleByAdmin')}"></p>
							</div>

							<div class="form-group mb-3">
								<button class="btn btn-primary" type="submit">Submit</button>

							</div>


						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="/js/script.js"></script>
</body>
</html>